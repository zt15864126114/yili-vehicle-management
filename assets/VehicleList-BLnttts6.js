import{d as W,r as c,c as H,h as X,e as a,w as n,b as u,o as Q,f as k,j as m,t as M,E as Y,B as _,_ as O}from"./index-xhAZHyxu.js";const ee={class:"vehicle-list"},ae={class:"card-header"},te={class:"table-container"},ne={class:"pagination-container"},le={class:"dialog-footer"},re="calc(100vh - 330px)",se=W({__name:"VehicleList",setup(ue){const C={truck:"货车",van:"面包车",car:"轿车"},U={normal:"正常",maintenance:"维修中",scrapped:"报废"},S=l=>({normal:"success",maintenance:"warning",scrapped:"danger"})[l]||"info",s=c({plateNumber:"",type:"",status:""}),D=c([{id:"1",plateNumber:"鲁H85697",type:"truck",brand:"解放J6",purchaseDate:"2022-01-01",mileage:5e4,status:"normal",nextInspectionDate:"2025-12-01",nextMaintenanceDate:"2025-06-15",remarks:"主要用于原料运输"},{id:"2",plateNumber:"鲁H67M89",type:"van",brand:"五菱荣光",purchaseDate:"2023-03-15",mileage:15e3,status:"normal",nextInspectionDate:"2026-03-15",nextMaintenanceDate:"2024-09-15",remarks:"厂区内部通勤"},{id:"3",plateNumber:"鲁H2N680",type:"truck",brand:"东风天龙",purchaseDate:"2021-08-20",mileage:8e4,status:"maintenance",nextInspectionDate:"2024-08-20",nextMaintenanceDate:"2024-02-20",remarks:"发动机维修中"},{id:"4",plateNumber:"鲁H1U579",type:"car",brand:"丰田凯美瑞",purchaseDate:"2023-06-10",mileage:12e3,status:"normal",nextInspectionDate:"2026-06-10",nextMaintenanceDate:"2024-06-10",remarks:"公务用车"},{id:"5",plateNumber:"鲁HK7K11",type:"truck",brand:"重汽豪沃",purchaseDate:"2020-12-25",mileage:12e4,status:"scrapped",nextInspectionDate:"2023-12-25",nextMaintenanceDate:"2023-12-25",remarks:"已达报废标准"},{id:"6",plateNumber:"鲁H9M229",type:"van",brand:"江铃全顺",purchaseDate:"2023-01-05",mileage:25e3,status:"normal",nextInspectionDate:"2026-01-05",nextMaintenanceDate:"2024-07-05",remarks:"厂区物资运输"},{id:"7",plateNumber:"鲁H3S338",type:"car",brand:"别克GL8",purchaseDate:"2022-09-15",mileage:35e3,status:"normal",nextInspectionDate:"2025-09-15",nextMaintenanceDate:"2024-03-15",remarks:"接待用车"},{id:"8",plateNumber:"鲁H4K472",type:"truck",brand:"福田欧曼",purchaseDate:"2021-05-20",mileage:95e3,status:"maintenance",nextInspectionDate:"2024-05-20",nextMaintenanceDate:"2024-01-20",remarks:"正在进行年度保养"},{id:"9",plateNumber:"鲁H5N891",type:"truck",brand:"解放JH6",purchaseDate:"2022-03-10",mileage:65e3,status:"normal",nextInspectionDate:"2025-03-10",nextMaintenanceDate:"2024-03-10",remarks:"成品油运输专用"},{id:"10",plateNumber:"鲁H6P234",type:"truck",brand:"重汽汕德卡",purchaseDate:"2023-04-15",mileage:28e3,status:"normal",nextInspectionDate:"2026-04-15",nextMaintenanceDate:"2024-04-15",remarks:"大豆运输专用"},{id:"11",plateNumber:"鲁H7R567",type:"van",brand:"福特全顺",purchaseDate:"2023-02-20",mileage:18e3,status:"normal",nextInspectionDate:"2026-02-20",nextMaintenanceDate:"2024-02-20",remarks:"样品运送专用"},{id:"12",plateNumber:"鲁H8T890",type:"car",brand:"奥迪A6L",purchaseDate:"2022-11-05",mileage:42e3,status:"normal",nextInspectionDate:"2025-11-05",nextMaintenanceDate:"2024-05-05",remarks:"总经理专用车"},{id:"13",plateNumber:"鲁H9U123",type:"truck",brand:"东风天龙KL",purchaseDate:"2022-07-18",mileage:73e3,status:"normal",nextInspectionDate:"2025-07-18",nextMaintenanceDate:"2024-01-18",remarks:"粮油运输专用"},{id:"14",plateNumber:"鲁H1W456",type:"van",brand:"大通V80",purchaseDate:"2023-05-25",mileage:13e3,status:"normal",nextInspectionDate:"2026-05-25",nextMaintenanceDate:"2024-05-25",remarks:"工具设备运输"},{id:"15",plateNumber:"鲁H2X789",type:"truck",brand:"解放J7",purchaseDate:"2023-01-30",mileage:45e3,status:"normal",nextInspectionDate:"2026-01-30",nextMaintenanceDate:"2024-01-30",remarks:"原料运输专用"},{id:"16",plateNumber:"鲁H3Y012",type:"car",brand:"丰田埃尔法",purchaseDate:"2022-12-10",mileage:32e3,status:"normal",nextInspectionDate:"2025-12-10",nextMaintenanceDate:"2024-06-10",remarks:"商务接待用车"},{id:"17",plateNumber:"鲁H4Z345",type:"truck",brand:"重汽豪沃",purchaseDate:"2022-06-05",mileage:85e3,status:"normal",nextInspectionDate:"2025-06-05",nextMaintenanceDate:"2024-06-05",remarks:"散装油运输"},{id:"18",plateNumber:"鲁H5A678",type:"van",brand:"江铃特顺",purchaseDate:"2023-03-20",mileage:22e3,status:"normal",nextInspectionDate:"2026-03-20",nextMaintenanceDate:"2024-03-20",remarks:"零配件配送"},{id:"19",plateNumber:"鲁H6B789",type:"van",brand:"江铃特顺",purchaseDate:"2023-04-15",mileage:25e3,status:"normal",nextInspectionDate:"2026-04-15",nextMaintenanceDate:"2024-04-15",remarks:"零配件配送"},{id:"20",plateNumber:"鲁H7C890",type:"truck",brand:"解放J6",purchaseDate:"2023-05-10",mileage:28e3,status:"normal",nextInspectionDate:"2026-05-10",nextMaintenanceDate:"2024-05-10",remarks:"原料运输"},{id:"21",plateNumber:"鲁H8D901",type:"van",brand:"福特全顺",purchaseDate:"2023-06-05",mileage:2e4,status:"normal",nextInspectionDate:"2026-06-05",nextMaintenanceDate:"2024-06-05",remarks:"市内配送"},{id:"22",plateNumber:"鲁H9E012",type:"truck",brand:"重汽豪沃",purchaseDate:"2023-07-01",mileage:32e3,status:"maintenance",nextInspectionDate:"2026-07-01",nextMaintenanceDate:"2024-07-01",remarks:"大宗运输"},{id:"23",plateNumber:"鲁H1F123",type:"van",brand:"江铃特顺",purchaseDate:"2023-07-25",mileage:18e3,status:"normal",nextInspectionDate:"2026-07-25",nextMaintenanceDate:"2024-07-25",remarks:"市内配送"},{id:"24",plateNumber:"鲁H2G234",type:"truck",brand:"东风天龙",purchaseDate:"2023-08-15",mileage:3e4,status:"normal",nextInspectionDate:"2026-08-15",nextMaintenanceDate:"2024-08-15",remarks:"原料运输"},{id:"25",plateNumber:"鲁H3H345",type:"van",brand:"福特全顺",purchaseDate:"2023-09-10",mileage:15e3,status:"normal",nextInspectionDate:"2026-09-10",nextMaintenanceDate:"2024-09-10",remarks:"零配件配送"},{id:"26",plateNumber:"鲁H4I456",type:"truck",brand:"解放J7",purchaseDate:"2023-10-05",mileage:28e3,status:"repair",nextInspectionDate:"2026-10-05",nextMaintenanceDate:"2024-10-05",remarks:"大宗运输"},{id:"27",plateNumber:"鲁H5J567",type:"van",brand:"江铃特顺",purchaseDate:"2023-11-01",mileage:12e3,status:"normal",nextInspectionDate:"2026-11-01",nextMaintenanceDate:"2024-11-01",remarks:"市内配送"},{id:"28",plateNumber:"鲁H6K678",type:"truck",brand:"重汽豪沃",purchaseDate:"2023-11-25",mileage:25e3,status:"normal",nextInspectionDate:"2026-11-25",nextMaintenanceDate:"2024-11-25",remarks:"原料运输"},{id:"29",plateNumber:"鲁H7L789",type:"van",brand:"福特全顺",purchaseDate:"2023-12-20",mileage:1e4,status:"normal",nextInspectionDate:"2026-12-20",nextMaintenanceDate:"2024-12-20",remarks:"零配件配送"},{id:"30",plateNumber:"鲁H8M890",type:"truck",brand:"东风天龙",purchaseDate:"2024-01-15",mileage:8e3,status:"normal",nextInspectionDate:"2027-01-15",nextMaintenanceDate:"2024-07-15",remarks:"大宗运输"},{id:"31",plateNumber:"鲁H9N901",type:"van",brand:"江铃特顺",purchaseDate:"2024-02-10",mileage:5e3,status:"normal",nextInspectionDate:"2027-02-10",nextMaintenanceDate:"2024-08-10",remarks:"市内配送"},{id:"32",plateNumber:"鲁H1P012",type:"truck",brand:"解放J6",purchaseDate:"2024-03-05",mileage:3e3,status:"normal",nextInspectionDate:"2027-03-05",nextMaintenanceDate:"2024-09-05",remarks:"原料运输"},{id:"33",plateNumber:"鲁H2Q123",type:"van",brand:"福特全顺",purchaseDate:"2024-03-30",mileage:2e3,status:"normal",nextInspectionDate:"2027-03-30",nextMaintenanceDate:"2024-09-30",remarks:"零配件配送"},{id:"34",plateNumber:"鲁H3R234",type:"truck",brand:"重汽豪沃",purchaseDate:"2024-04-25",mileage:1500,status:"normal",nextInspectionDate:"2027-04-25",nextMaintenanceDate:"2024-10-25",remarks:"大宗运输"},{id:"35",plateNumber:"鲁H4S345",type:"van",brand:"江铃特顺",purchaseDate:"2024-05-20",mileage:1e3,status:"normal",nextInspectionDate:"2027-05-20",nextMaintenanceDate:"2024-11-20",remarks:"市内配送"},{id:"36",plateNumber:"鲁H5T456",type:"truck",brand:"东风天龙",purchaseDate:"2024-06-15",mileage:800,status:"normal",nextInspectionDate:"2027-06-15",nextMaintenanceDate:"2024-12-15",remarks:"原料运输"},{id:"37",plateNumber:"鲁H6U567",type:"van",brand:"福特全顺",purchaseDate:"2024-07-10",mileage:500,status:"normal",nextInspectionDate:"2027-07-10",nextMaintenanceDate:"2025-01-10",remarks:"零配件配送"},{id:"38",plateNumber:"鲁H7V678",type:"truck",brand:"解放J7",purchaseDate:"2024-08-05",mileage:300,status:"normal",nextInspectionDate:"2027-08-05",nextMaintenanceDate:"2025-02-05",remarks:"大宗运输"},{id:"39",plateNumber:"鲁H8W789",type:"van",brand:"江铃特顺",purchaseDate:"2024-09-01",mileage:100,status:"normal",nextInspectionDate:"2027-09-01",nextMaintenanceDate:"2025-03-01",remarks:"市内配送"},{id:"40",plateNumber:"鲁H9X890",type:"truck",brand:"重汽豪沃",purchaseDate:"2024-09-25",mileage:50,status:"normal",nextInspectionDate:"2027-09-25",nextMaintenanceDate:"2025-03-25",remarks:"原料运输"}]),I=H(()=>D.value.filter(l=>{const e=!s.value.plateNumber||l.plateNumber.includes(s.value.plateNumber),o=!s.value.type||l.type===s.value.type,x=!s.value.status||l.status===s.value.status;return e&&o&&x})),b=c(1),g=c(10),T=H(()=>{const l=(b.value-1)*g.value,e=l+g.value;return I.value.slice(l,e)}),w=l=>{g.value=l,b.value=1},z=l=>{b.value=l},v=c(!1),y=c("add"),f=c(),r=c({id:"",plateNumber:"",type:"",brand:"",purchaseDate:"",mileage:0,status:"normal",nextInspectionDate:"",nextMaintenanceDate:"",remarks:""}),B={plateNumber:[{required:!0,message:"请输入车牌号",trigger:"blur"},{pattern:/^[京津沪渝冀豫云辽黑湘鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z][A-Z0-9]{5}$/,message:"请输入正确的车牌号格式",trigger:"blur"}],type:[{required:!0,message:"请选择车辆类型",trigger:"change"}],brand:[{required:!0,message:"请输入品牌型号",trigger:"blur"}],purchaseDate:[{required:!0,message:"请选择购置日期",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},J=()=>{b.value=1},E=()=>{s.value={plateNumber:"",type:"",status:""},b.value=1},L=()=>{y.value="add",r.value={id:"",plateNumber:"",type:"",brand:"",purchaseDate:"",mileage:0,status:"normal",nextInspectionDate:"",nextMaintenanceDate:"",remarks:""},v.value=!0},q=l=>{y.value="edit",r.value={id:l.id,plateNumber:l.plateNumber,type:l.type,brand:l.brand,purchaseDate:l.purchaseDate,mileage:l.mileage,status:l.status,nextInspectionDate:l.nextInspectionDate,nextMaintenanceDate:l.nextMaintenanceDate,remarks:l.remarks},v.value=!0},A=l=>{Y.confirm(`确定要删除车牌号为 ${l.plateNumber} 的车辆记录吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{D.value=D.value.filter(e=>e.id!==l.id),_.success("删除成功")})},F=async()=>{f.value&&await f.value.validate(l=>{if(l){if(y.value==="add"){const e={...r.value,id:String(Date.now())};D.value.unshift(e),_.success("新增车辆成功")}else{const e=D.value.findIndex(o=>o.id===r.value.id);e!==-1&&(D.value[e]={...r.value},_.success("更新车辆信息成功"))}v.value=!1}})};return(l,e)=>{const o=u("el-button"),x=u("el-input"),p=u("el-form-item"),i=u("el-option"),h=u("el-select"),V=u("el-form"),d=u("el-table-column"),K=u("el-tag"),P=u("el-table"),$=u("el-pagination"),R=u("el-card"),N=u("el-date-picker"),Z=u("el-input-number"),j=u("el-dialog");return Q(),X("div",ee,[a(R,{class:"vehicle-card"},{header:n(()=>[k("div",ae,[e[17]||(e[17]=k("span",null,"车辆管理",-1)),a(o,{type:"primary",onClick:L},{default:n(()=>e[16]||(e[16]=[m("新增车辆")])),_:1})])]),default:n(()=>[a(V,{inline:!0,model:s.value,class:"search-form"},{default:n(()=>[a(p,{label:"车牌号"},{default:n(()=>[a(x,{modelValue:s.value.plateNumber,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value.plateNumber=t),placeholder:"请输入车牌号"},null,8,["modelValue"])]),_:1}),a(p,{label:"车辆类型"},{default:n(()=>[a(h,{modelValue:s.value.type,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value.type=t),placeholder:"请选择车辆类型",clearable:""},{default:n(()=>[a(i,{label:"货车",value:"truck"}),a(i,{label:"面包车",value:"van"}),a(i,{label:"轿车",value:"car"})]),_:1},8,["modelValue"])]),_:1}),a(p,{label:"状态"},{default:n(()=>[a(h,{modelValue:s.value.status,"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.status=t),placeholder:"请选择状态",clearable:""},{default:n(()=>[a(i,{label:"正常",value:"normal"}),a(i,{label:"维修中",value:"maintenance"}),a(i,{label:"报废",value:"scrapped"})]),_:1},8,["modelValue"])]),_:1}),a(p,null,{default:n(()=>[a(o,{type:"primary",onClick:J},{default:n(()=>e[18]||(e[18]=[m("搜索")])),_:1}),a(o,{onClick:E},{default:n(()=>e[19]||(e[19]=[m("重置")])),_:1})]),_:1})]),_:1},8,["model"]),k("div",te,[a(P,{data:T.value,style:{width:"100%"},height:re},{default:n(()=>[a(d,{prop:"plateNumber",label:"车牌号",width:"120"}),a(d,{prop:"type",label:"车辆类型",width:"100"},{default:n(({row:t})=>[m(M(C[t.type]),1)]),_:1}),a(d,{prop:"brand",label:"品牌型号",width:"150"}),a(d,{prop:"purchaseDate",label:"购置日期",width:"120"}),a(d,{prop:"mileage",label:"当前里程",width:"120"},{default:n(({row:t})=>[m(M(t.mileage)+" km ",1)]),_:1}),a(d,{prop:"status",label:"状态",width:"100"},{default:n(({row:t})=>[a(K,{type:S(t.status)},{default:n(()=>[m(M(U[t.status]),1)]),_:2},1032,["type"])]),_:1}),a(d,{prop:"nextInspectionDate",label:"下次年检",width:"120"}),a(d,{prop:"nextMaintenanceDate",label:"下次保养",width:"120"}),a(d,{label:"操作",width:"200",fixed:"right"},{default:n(({row:t})=>[a(o,{type:"primary",link:"",onClick:G=>q(t)},{default:n(()=>e[20]||(e[20]=[m("编辑")])),_:2},1032,["onClick"]),a(o,{type:"danger",link:"",onClick:G=>A(t)},{default:n(()=>e[21]||(e[21]=[m("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),k("div",ne,[a($,{"current-page":b.value,"onUpdate:currentPage":e[3]||(e[3]=t=>b.value=t),"page-size":g.value,"onUpdate:pageSize":e[4]||(e[4]=t=>g.value=t),"page-sizes":[10,15,20,30],total:I.value.length,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:w,onCurrentChange:z,background:""},null,8,["current-page","page-size","total"])])]),_:1}),a(j,{title:y.value==="add"?"新增车辆":"编辑车辆",modelValue:v.value,"onUpdate:modelValue":e[15]||(e[15]=t=>v.value=t),width:"600px"},{footer:n(()=>[k("span",le,[a(o,{onClick:e[14]||(e[14]=t=>v.value=!1)},{default:n(()=>e[22]||(e[22]=[m("取消")])),_:1}),a(o,{type:"primary",onClick:F},{default:n(()=>e[23]||(e[23]=[m("确定")])),_:1})])]),default:n(()=>[a(V,{ref_key:"vehicleFormRef",ref:f,model:r.value,rules:B,"label-width":"100px"},{default:n(()=>[a(p,{label:"车牌号",prop:"plateNumber"},{default:n(()=>[a(x,{modelValue:r.value.plateNumber,"onUpdate:modelValue":e[5]||(e[5]=t=>r.value.plateNumber=t),placeholder:"请输入车牌号"},null,8,["modelValue"])]),_:1}),a(p,{label:"车辆类型",prop:"type"},{default:n(()=>[a(h,{modelValue:r.value.type,"onUpdate:modelValue":e[6]||(e[6]=t=>r.value.type=t),placeholder:"请选择车辆类型"},{default:n(()=>[a(i,{label:"货车",value:"truck"}),a(i,{label:"面包车",value:"van"}),a(i,{label:"轿车",value:"car"})]),_:1},8,["modelValue"])]),_:1}),a(p,{label:"品牌型号",prop:"brand"},{default:n(()=>[a(x,{modelValue:r.value.brand,"onUpdate:modelValue":e[7]||(e[7]=t=>r.value.brand=t),placeholder:"请输入品牌型号"},null,8,["modelValue"])]),_:1}),a(p,{label:"购置日期",prop:"purchaseDate"},{default:n(()=>[a(N,{modelValue:r.value.purchaseDate,"onUpdate:modelValue":e[8]||(e[8]=t=>r.value.purchaseDate=t),type:"date",placeholder:"请选择购置日期"},null,8,["modelValue"])]),_:1}),a(p,{label:"当前里程",prop:"mileage"},{default:n(()=>[a(Z,{modelValue:r.value.mileage,"onUpdate:modelValue":e[9]||(e[9]=t=>r.value.mileage=t),min:0,step:1e3,placeholder:"请输入当前里程"},null,8,["modelValue"])]),_:1}),a(p,{label:"状态",prop:"status"},{default:n(()=>[a(h,{modelValue:r.value.status,"onUpdate:modelValue":e[10]||(e[10]=t=>r.value.status=t),placeholder:"请选择状态"},{default:n(()=>[a(i,{label:"正常",value:"normal"}),a(i,{label:"维修中",value:"maintenance"}),a(i,{label:"报废",value:"scrapped"})]),_:1},8,["modelValue"])]),_:1}),a(p,{label:"下次年检",prop:"nextInspectionDate"},{default:n(()=>[a(N,{modelValue:r.value.nextInspectionDate,"onUpdate:modelValue":e[11]||(e[11]=t=>r.value.nextInspectionDate=t),type:"date",placeholder:"请选择下次年检日期"},null,8,["modelValue"])]),_:1}),a(p,{label:"下次保养",prop:"nextMaintenanceDate"},{default:n(()=>[a(N,{modelValue:r.value.nextMaintenanceDate,"onUpdate:modelValue":e[12]||(e[12]=t=>r.value.nextMaintenanceDate=t),type:"date",placeholder:"请选择下次保养日期"},null,8,["modelValue"])]),_:1}),a(p,{label:"备注",prop:"remarks"},{default:n(()=>[a(x,{modelValue:r.value.remarks,"onUpdate:modelValue":e[13]||(e[13]=t=>r.value.remarks=t),type:"textarea",rows:"3",placeholder:"请输入备注信息"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}}),ie=O(se,[["__scopeId","data-v-748fb1ee"]]);export{ie as default};
