import{d as I}from"./driver-C9OQhe0x.js";import{d as L,r as v,h as O,e as l,w as t,b as s,o as A,f as b,j as d,t as y,E as c,_ as F}from"./index-uYQj0kvs.js";import"./mock-CdG3V9JI.js";const M={class:"driver-list"},q={class:"card-header"},z={class:"dialog-footer"},G=L({__name:"DriverList",setup(H){const g=v(""),u=v([]),r=v(!1),_=v("add"),o=v({name:"",licenseNumber:"",phoneNumber:"",licenseExpireDate:"",drivingYears:0,status:"available"}),k=n=>({available:"success",onDuty:"warning",leave:"info"})[n],x=n=>({available:"空闲",onDuty:"在岗",leave:"请假"})[n],D=()=>{_.value="add",r.value=!0,Object.assign(o.value,{name:"",licenseNumber:"",phoneNumber:"",licenseExpireDate:"",drivingYears:0,status:"available"})},N=n=>{g.value=n.id,Object.assign(o.value,n),r.value=!0},C=n=>{c.success("删除成功"),u.value=u.value.filter(e=>e.id!==n.id)},w=n=>{console.log("查看驾驶员:",n)},E=()=>{if(_.value==="add"){const n={id:String(Date.now()),...o.value};u.value.unshift(n),c.success("新增驾驶员成功")}else{const n=u.value.findIndex(e=>e.id===g.value);n!==-1&&(u.value[n]={...u.value[n],...o.value},c.success("更新驾驶员信息成功"))}r.value=!1};return u.value=I.drivers,(n,e)=>{const p=s("el-button"),i=s("el-table-column"),U=s("el-tag"),Y=s("el-table"),S=s("el-card"),f=s("el-input"),m=s("el-form-item"),T=s("el-date-picker"),$=s("el-input-number"),j=s("el-form"),B=s("el-dialog");return A(),O("div",M,[l(S,null,{header:t(()=>[b("div",q,[e[8]||(e[8]=b("span",null,"驾驶员管理",-1)),l(p,{type:"primary",onClick:D},{default:t(()=>e[7]||(e[7]=[d("新增驾驶员")])),_:1})])]),default:t(()=>[l(Y,{data:u.value,border:""},{default:t(()=>[l(i,{prop:"name",label:"姓名"}),l(i,{prop:"licenseNumber",label:"驾驶证号"}),l(i,{prop:"phoneNumber",label:"联系电话"}),l(i,{prop:"licenseExpireDate",label:"证件到期日"}),l(i,{prop:"drivingYears",label:"驾龄"},{default:t(({row:a})=>[d(y(a.drivingYears)+"年 ",1)]),_:1}),l(i,{prop:"status",label:"状态"},{default:t(({row:a})=>[l(U,{type:k(a.status)},{default:t(()=>[d(y(x(a.status)),1)]),_:2},1032,["type"])]),_:1}),l(i,{label:"操作",width:"200"},{default:t(({row:a})=>[l(p,{type:"primary",link:"",onClick:V=>w(a)},{default:t(()=>e[9]||(e[9]=[d("查看")])),_:2},1032,["onClick"]),l(p,{type:"primary",link:"",onClick:V=>N(a)},{default:t(()=>e[10]||(e[10]=[d("编辑")])),_:2},1032,["onClick"]),l(p,{type:"danger",link:"",onClick:V=>C(a)},{default:t(()=>e[11]||(e[11]=[d("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),l(B,{modelValue:r.value,"onUpdate:modelValue":e[6]||(e[6]=a=>r.value=a),title:_.value==="add"?"新增驾驶员":"编辑驾驶员",width:"500px"},{footer:t(()=>[b("span",z,[l(p,{onClick:e[5]||(e[5]=a=>r.value=!1)},{default:t(()=>e[12]||(e[12]=[d("取消")])),_:1}),l(p,{type:"primary",onClick:E},{default:t(()=>e[13]||(e[13]=[d("确定")])),_:1})])]),default:t(()=>[l(j,{model:o.value,"label-width":"100px"},{default:t(()=>[l(m,{label:"姓名"},{default:t(()=>[l(f,{modelValue:o.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.name=a)},null,8,["modelValue"])]),_:1}),l(m,{label:"驾驶证号"},{default:t(()=>[l(f,{modelValue:o.value.licenseNumber,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.licenseNumber=a)},null,8,["modelValue"])]),_:1}),l(m,{label:"联系电话"},{default:t(()=>[l(f,{modelValue:o.value.phoneNumber,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.phoneNumber=a)},null,8,["modelValue"])]),_:1}),l(m,{label:"证件到期日"},{default:t(()=>[l(T,{modelValue:o.value.licenseExpireDate,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.licenseExpireDate=a),type:"date",placeholder:"选择日期"},null,8,["modelValue"])]),_:1}),l(m,{label:"驾龄"},{default:t(()=>[l($,{modelValue:o.value.drivingYears,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.drivingYears=a),min:1},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),Q=F(G,[["__scopeId","data-v-1f6de5d0"]]);export{Q as default};
